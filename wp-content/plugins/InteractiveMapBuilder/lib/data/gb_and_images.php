<?php
	// The map
	$name         = "Example: Map of GB showing images";
	$options      = '{"background_color":"#ffffff","border_color":"#666666","border_width":"0","dataless_regions_color":"#ececec","enable_region_interactivity":"true","height":"250","keep_aspect_ratio":"true","region":"GB","marker_opacity":0.5,"marker_size":"15","resolution":"provinces","tooltip_enable":"false","tooltip_color":"#000000","tooltip_font_family":"<global-font-name>","tooltip_font_size":"<global-font-size>","width":"auto"}';
	$table        = '[{"location":"GB-WLS","latitude":"52.1306607","longitude":"-3.7837117","color":"#7788bb","size":"1","tooltip_title":"","tooltip_text":"","click_action_value":"http:\/\/meisterpixel.com\/sample-images\/fruit5.jpg\nThe next picture has no text...\nhttp:\/\/meisterpixel.com\/sample-images\/fruit6.jpg\n"},{"location":"GB-SCT","latitude":"56.49067119999999","longitude":"-4.2026458","color":"#28386d","size":"1","tooltip_title":"","tooltip_text":"","click_action_value":"http:\/\/meisterpixel.com\/sample-images\/fruit2.jpg\nOne cherry\nhttp:\/\/meisterpixel.com\/sample-images\/fruit4.jpg\nTwo cherries\nhttp:\/\/meisterpixel.com\/sample-images\/fruit3.jpg\nSeven cherries"},{"location":"GB-ENG","latitude":"52.3555177","longitude":"-1.1743197","color":"#1e3799","size":"1","tooltip_title":"","tooltip_text":"","click_action_value":"http:\/\/meisterpixel.com\/sample-images\/fruit1.jpg\nA tomato"}]';
	$display_mode = "marker_by_coordinates";
	$picture      = 'data:image/png;base64,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';
	$map          = new Interactive_Map(-1, $name, "", $options, $table, $display_mode, "", "", "", -1, $picture);
	
	// The click action
	$click_action_name = "Open image";
	$click_action_desc = 'Opens a lightbox with images. The click value should have the url to the picture in the first line. The second line is the caption for the image or is left empty. The third line is the url to the second picture and so on.

Format of the click action value:
Line 1: (url to picture 1)
Line 2: (caption for picture 1)
Line 3: (url to picture 2)
Line 4: (caption for picture 2)
...(and so on)...';
	$click_tab_1 = 'http://meisterpixel.com/sample-images/fruit1.jpg
The next picture has no description...
http://meisterpixel.com/sample-images/fruit2.jpg

http://meisterpixel.com/sample-images/fruit3.jpg
Another sample image.
http://meisterpixel.com/sample-images/fruit4.jpg
The last picture.';
	$click_tab_2 = 'http://meisterpixel.com/sample-images/fruit3.jpg
This is another image.';
	$click_tab_3 = '<h3>This is Spain.</h3>
<table>
<tr>
<th>Population</th>
<td>59,943,933</td>
</tr>
<tr>
<th>Capital</th>
<td>Rome</td>
</tr>
</table>';
	$html = '<div id="{cssid}">
  %%map%%
</div>';
	$javascript = 'if(storage===null) {
  var success = true;
  var c = [];
  var data = click_value.split("\n");
  if(data.length>1) {
    for(var j=0;j<data.length;j+=2) {
      var url = data[j].trim();
      if(/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&\'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(url)) {
        c.push({ src: url, caption: data[j+1].trim(), type: ""});
      } else {
        alert("Error: \'" + url + "\' is not a url to a picture.\n\n Expected click value: \n {url to picture} \n {caption of the picture or an empty line} \n ... \n \n {url to picture} \n {caption of the picture or an empty line} \n ... \n (and so on)");
        success = false;
      }
    }
    if(success) {
    	storage = {};
	    storage["show"] = success;
    
    	storage["box"]  = new Meisterbox(c);
    }
  }
  
}

if(storage!==null && storage["show"])
  storage["box"].enable();';
	$css = '#{cssid} {
 
}';

	$action = new Click_Action(-1, $click_action_name, $click_action_desc, $click_tab_1, $click_tab_2, $click_tab_3, $html, $javascript, $css);
	
	$action->save();
	$map->set_click_action($action);
	$map->save();
	
?>